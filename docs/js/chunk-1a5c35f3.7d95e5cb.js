(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a5c35f3"],{"143b":function(e,t,n){"use strict";n("8a0a")},"25f0":function(e,t,n){"use strict";var c=n("6eeb"),o=n("825a"),a=n("577e"),r=n("d039"),i=n("ad6d"),u="toString",s=RegExp.prototype,f=s[u],d=r((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),l=f.name!=u;(d||l)&&c(RegExp.prototype,u,(function(){var e=o(this),t=a(e.source),n=e.flags,c=a(void 0===n&&e instanceof RegExp&&!("flags"in s)?i.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},"45cf":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=Object(c["V"])("data-v-489ead3c");Object(c["D"])("data-v-489ead3c");var a={class:"phoneLogin"},r={class:"topBar"},i={class:"left"},u=Object(c["k"])("span",{class:"title"},"手机号登录",-1),s={key:0,class:"right"},f={class:"phoneNumberInput"},d={key:0,class:"title"},l=Object(c["k"])("span",{class:"name"},"登录体验更多精彩",-1),p=Object(c["k"])("span",{class:"desc"},"未注册手机号登录后将自动创建账号",-1),b={key:1,class:"title"},h=Object(c["k"])("span",{class:"name"},"请输入验证码",-1),O={class:"countDown"},j={class:"desc"},v={key:0,class:"count"},g={key:2,class:"inputBox"},m=Object(c["j"])(" 下一步 ");Object(c["B"])();var k=o((function(e,t,n,k,y,I){var N=Object(c["H"])("van-button");return Object(c["A"])(),Object(c["g"])("div",a,[Object(c["k"])("div",r,[Object(c["k"])("div",i,[Object(c["k"])("span",{class:"iconfont icon-cha-copy",onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)})}),u]),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("span",s,"密码登录")):Object(c["h"])("",!0)]),Object(c["k"])("div",f,[e.hasVerificationCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",d,[l,p])),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("div",b,[h,Object(c["k"])("div",O,[Object(c["k"])("span",j,"已发送至 "+Object(c["L"])(e.phoneNumber),1),e.sendCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("span",v,Object(c["L"])(e.count)+"s",1)),e.sendCode?(Object(c["A"])(),Object(c["g"])("span",{key:1,class:"sendCodeAgain",onClick:t[2]||(t[2]=function(e){return k.submitAgain()})},"重新获取")):Object(c["h"])("",!0)])])):Object(c["h"])("",!0),e.hasVerificationCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",g,[Object(c["S"])(Object(c["k"])("input",{ref:"phoneInput",type:"number",placeholder:"请输入手机号","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.phoneNumber=t}),pattern:"[0-9]*"},null,512),[[c["O"],e.phoneNumber]]),Object(c["k"])(N,{round:"",block:"",type:"primary",onClick:t[4]||(t[4]=function(e){return k.submit()})},{default:o((function(){return[m]})),_:1})]))])])})),y=n("5530"),I=(n("e7e5"),n("d399")),N=(n("fb6a"),n("7555")),A=Object(c["V"])("data-v-446482a8");Object(c["D"])("data-v-446482a8");var C={class:"captchaInputBox"},E={class:"confirm-warpper"};Object(c["B"])();var x=A((function(e,t,n,o,a,r){return Object(c["A"])(),Object(c["g"])("div",C,[Object(c["k"])("div",E,[Object(c["S"])(Object(c["k"])("input",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.code=e}),onBlur:t[2]||(t[2]=function(){return r.lose&&r.lose.apply(r,arguments)}),type:"number"},null,544),[[c["O"],a.code]]),Object(c["k"])("div",{onClick:t[3]||(t[3]=function(){return r.focus&&r.focus.apply(r,arguments)}),class:"box"},[(Object(c["A"])(!0),Object(c["g"])(c["a"],null,Object(c["G"])(r.loopDiv,(function(e,t){return Object(c["A"])(),Object(c["g"])("div",{key:t,class:["item",{active:a.current==t}]},Object(c["L"])(a.code[t]),3)})),128))])])])})),S=(n("a9e3"),n("d3b7"),n("25f0"),{props:{size:{type:[String,Number],default:4}},data:function(){return{code:"",current:0}},watch:{code:function(){this.code=this.code.toString().slice(0,4),this.current=this.code.length,this.$emit("input",this.code)}},computed:{maxLength:function(){return"number"==typeof this.size?this.size:Number(this.size)},loopDiv:function(){return new Array(4)}},methods:{focus:function(){this.$refs.input.focus();var e=this.code.length;this.current=6==e?this.code.length-1:this.code.length},lose:function(){this.current=-1}},mounted:function(){this.focus()}});n("143b");S.render=x,S.__scopeId="data-v-446482a8";var w=S,V=n("6c02"),_=n("5502"),L={name:"PhoneLogin",components:{CaptchaInputBox:w},setup:function(){var e=Object(c["E"])({phoneNumber:"",phoneInput:"",hasVerificationCode:!1,count:60,sendCode:!1,verificationCode:0}),t=Object(_["c"])(),n=Object(V["d"])(),o=function(c){c.length>=4&&(e.verificationCode=c.slice(0,4),Object(N["d"])(e.phoneNumber,e.verificationCode).then((function(c){c.data.data&&Object(N["b"])(e.phoneNumber,e.verificationCode).then((function(e){console.log(e.data),console.log("使用手机号登录成功！欢迎您！".concat(e.data.profile.nickname)),localStorage.cookie=encodeURIComponent(e.data.cookie),t.state.user.isLogin=!0,t.state.user.id=e.data.profile.userId,t.state.user.nickName=e.data.profile.nickname,t.state.user.picUrl=e.data.profile.avatarUrl,t.state.user.userDetail=e.data.profile,localStorage.userLoginInfo=JSON.stringify(t.state.user),n.push("/me")}))})))},a=function(){var t=setInterval((function(){e.count>1?e.count--:(e.sendCode=!0,clearInterval(t))}),1e3)},r=function(){return""==e.phoneNumber?(Object(I["a"])("请输入手机号"),e.phoneInput.focus(),!1):11!==e.phoneNumber.length?(Object(I["a"])("请输入11位手机号"),e.phoneInput.focus(),!1):void Object(N["a"])(e.phoneNumber).then((function(t){t.data.data&&(e.hasVerificationCode=!0,a())}))},i=function(){Object(N["a"])(e.phoneNumber).then((function(e){e.data.data&&a()})),e.sendCode=!1,e.count=10};return Object(c["x"])((function(){e.phoneInput.focus()})),Object(y["a"])(Object(y["a"])({},Object(c["M"])(e)),{},{submit:r,submitAgain:i,input:o})}};n("64f4");L.render=k,L.__scopeId="data-v-489ead3c";t["default"]=L},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var c=n("1d80"),o=n("577e"),a=n("5899"),r="["+a+"]",i=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),s=function(e){return function(t){var n=o(c(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"64f4":function(e,t,n){"use strict";n("847e")},7156:function(e,t,n){var c=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var a,r;return o&&"function"==typeof(a=t.constructor)&&a!==n&&c(r=a.prototype)&&r!==n.prototype&&o(e,r),e}},7555:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));n("99af");var c=n("0c6d");function o(e){return Object(c["a"])({url:"/captcha/sent?phone="+e})}function a(e,t){return Object(c["a"])({url:"/captcha/verify?phone=".concat(e,"&captcha=").concat(t)})}function r(e,t){return Object(c["a"])({url:"/login/cellphone?phone=".concat(e,"&captcha=").concat(t)})}function i(){return Object(c["a"])({url:"/logout"})}},"847e":function(e,t,n){},"8a0a":function(e,t,n){},a9e3:function(e,t,n){"use strict";var c=n("83ab"),o=n("da84"),a=n("94ca"),r=n("6eeb"),i=n("5135"),u=n("c6b6"),s=n("7156"),f=n("d9b5"),d=n("c04e"),l=n("d039"),p=n("7c73"),b=n("241c").f,h=n("06cf").f,O=n("9bf2").f,j=n("58a8").trim,v="Number",g=o[v],m=g.prototype,k=u(p(m))==v,y=function(e){if(f(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,c,o,a,r,i,u,s=d(e,"number");if("string"==typeof s&&s.length>2)if(s=j(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+s}for(a=s.slice(2),r=a.length,i=0;i<r;i++)if(u=a.charCodeAt(i),u<48||u>o)return NaN;return parseInt(a,c)}return+s};if(a(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var I,N=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof N&&(k?l((function(){m.valueOf.call(n)})):u(n)!=v)?s(new g(y(t)),n,N):y(t)},A=c?b(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;A.length>C;C++)i(g,I=A[C])&&!i(N,I)&&O(N,I,h(g,I));N.prototype=m,m.constructor=N,r(o,v,N)}},ad6d:function(e,t,n){"use strict";var c=n("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},fb6a:function(e,t,n){"use strict";var c=n("23e7"),o=n("861d"),a=n("e8b5"),r=n("23cb"),i=n("50c4"),u=n("fc6a"),s=n("8418"),f=n("b622"),d=n("1dde"),l=d("slice"),p=f("species"),b=[].slice,h=Math.max;c({target:"Array",proto:!0,forced:!l},{slice:function(e,t){var n,c,f,d=u(this),l=i(d.length),O=r(e,l),j=r(void 0===t?l:t,l);if(a(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?o(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return b.call(d,O,j);for(c=new(void 0===n?Array:n)(h(j-O,0)),f=0;O<j;O++,f++)O in d&&s(c,f,d[O]);return c.length=f,c}})}}]);
//# sourceMappingURL=chunk-1a5c35f3.7d95e5cb.js.map