{"version":3,"sources":["webpack:///./src/components/CaptchaInputBox.vue?8786","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/login/PhoneLogin.vue","webpack:///./src/components/CaptchaInputBox.vue","webpack:///./src/components/CaptchaInputBox.vue?3e47","webpack:///./src/views/login/PhoneLogin.vue?c579","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/login/PhoneLogin.vue?c543","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./src/api/login/index.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["redefine","anObject","$toString","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","rf","f","undefined","unsafe","class","$router","go","hasVerificationCode","phoneNumber","sendCode","count","submitAgain","ref","type","placeholder","pattern","round","block","submit","code","lose","focus","loopDiv","item","index","key","current","props","size","String","Number","default","data","watch","toString","slice","length","$emit","computed","maxLength","Array","methods","$refs","input","len","mounted","render","__scopeId","components","CaptchaInputBox","setup","state","phoneInput","verificationCode","store","router","then","res","login","console","log","profile","nickname","localStorage","cookie","encodeURIComponent","user","isLogin","id","userId","nickName","picUrl","avatarUrl","userDetail","userLoginInfo","JSON","stringify","push","startTimer","timer","setInterval","clearInterval","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","rtrim","createMethod","TYPE","$this","string","replace","start","end","trim","isObject","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","getPhoneVerificationCode","request","url","verifyPhoneCaptcha","captcha","loginCellphoneByCaptcha","logout","DESCRIPTORS","global","isForced","has","classof","inheritIfRequired","isSymbol","toPrimitive","create","getOwnPropertyNames","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","TypeError","first","third","radix","maxCode","digits","it","charCodeAt","NaN","parseInt","NumberWrapper","value","arguments","valueOf","keys","split","j","that","result","ignoreCase","multiline","dotAll","unicode","sticky","$","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","target","proto","forced","Constructor","n","O","k","fin"],"mappings":"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","file":"js/chunk-1a5c35f3.7d95e5cb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CaptchaInputBox.vue?vue&type=style&index=0&id=446482a8&scoped=true&lang=scss\"","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","<!-- 登录-手机号登录 -->\n<template>\n    <div class=\"phoneLogin\">\n        <div class=\"topBar\">\n            <div class=\"left\">\n                <span\n                    class=\"iconfont icon-cha-copy\"\n                    @click=\"$router.go(-1)\"\n                ></span>\n                <span class=\"title\">手机号登录</span>\n            </div>\n            <span class=\"right\" v-if=\"hasVerificationCode\">密码登录</span>\n        </div>\n        <div class=\"phoneNumberInput\">\n            <div class=\"title\" v-if=\"!hasVerificationCode\">\n                <span class=\"name\">登录体验更多精彩</span>\n                <span class=\"desc\">未注册手机号登录后将自动创建账号</span>\n            </div>\n            <div class=\"title\" v-if=\"hasVerificationCode\">\n                <span class=\"name\">请输入验证码</span>\n                <div class=\"countDown\">\n                    <span class=\"desc\">已发送至 {{ phoneNumber }}</span>\n                    <span class=\"count\" v-if=\"!sendCode\">{{ count }}s</span>\n                    <span\n                        class=\"sendCodeAgain\"\n                        v-if=\"sendCode\"\n                        @click=\"submitAgain()\"\n                        >重新获取</span\n                    >\n                </div>\n            </div>\n            <div class=\"inputBox\" v-if=\"!hasVerificationCode\">\n                <input\n                    ref=\"phoneInput\"\n                    type=\"number\"\n                    placeholder=\"请输入手机号\"\n                    v-model=\"phoneNumber\"\n                    pattern=\"[0-9]*\"\n                />\n                <van-button round block type=\"primary\" @click=\"submit()\">\n                    下一步\n                </van-button>\n            </div>\n            <!-- <div class=\"codeInputBox\" v-if=\"hasVerificationCode\">\n                <CaptchaInputBox @input=\"input\" />\n                <div class=\"bottom\">\n                    <span class=\"name\">手机号码已停用</span>\n                    <div>\n                        <span class=\"iconfont icon-youjiantou\"></span>\n                    </div>\n                </div>\n            </div> -->\n        </div>\n    </div>\n</template>\n\n<script>\nimport { onMounted, reactive, toRefs } from \"vue\";\nimport { Toast } from \"vant\";\nimport {\n    getPhoneVerificationCode,\n    verifyPhoneCaptcha,\n    loginCellphoneByCaptcha,\n} from \"@/api/login/index.js\";\nimport CaptchaInputBox from \"@/components/CaptchaInputBox.vue\";\nimport { useRouter } from \"vue-router\";\nimport { useStore } from \"vuex\";\n\nexport default {\n    name: \"PhoneLogin\",\n    components: { CaptchaInputBox },\n    setup() {\n        const state = reactive({\n            phoneNumber: \"\",\n            phoneInput: \"\",\n            hasVerificationCode: false,\n            count: 60,\n            sendCode: false,\n            verificationCode: 0,\n        });\n\n        const store = useStore();\n        const router = useRouter();\n\n        const input = (code) => {\n            if (code.length >= 4) {\n                state.verificationCode = code.slice(0, 4);\n                verifyPhoneCaptcha(\n                    state.phoneNumber,\n                    state.verificationCode\n                ).then((res) => {\n                    if (res.data.data) {\n                        loginCellphoneByCaptcha(\n                            state.phoneNumber,\n                            state.verificationCode\n                        ).then((res) => {\n                            console.log(res.data);\n                            console.log(\n                                `使用手机号登录成功！欢迎您！${res.data.profile.nickname}`\n                            );\n                            localStorage.cookie = encodeURIComponent(\n                                res.data.cookie\n                            );\n                            store.state.user.isLogin = true;\n                            store.state.user.id = res.data.profile.userId;\n                            store.state.user.nickName =\n                                res.data.profile.nickname;\n                            store.state.user.picUrl =\n                                res.data.profile.avatarUrl;\n                            store.state.user.userDetail = res.data.profile;\n                            localStorage.userLoginInfo = JSON.stringify(\n                                store.state.user\n                            );\n                            router.push(\"/me\");\n                        });\n                    }\n                    // if (res.data.data) {\n                    //     console.log(res.data);\n                    //     // console.log(\n                    //     //     `使用手机号登录成功！欢迎您！${res.data.profile.nickname}`\n                    //     // );\n                    //     // localStorage.cookie = encodeURIComponent(\n                    //     //     res.data.cookie\n                    //     // );\n                    //     // store.state.user.isLogin = true;\n                    //     // store.state.user.id = result.data.profile.userId;\n                    //     // store.state.user.nickName = res.data.profile.nickname;\n                    //     // store.state.user.picUrl = res.data.profile.avatarUrl;\n                    //     // store.state.user.userDetail = res.data.profile;\n                    //     // localStorage.userLoginInfo = JSON.stringify(\n                    //     //     res.state.user\n                    //     // );\n                    //     router.push(\"/me\");\n                    // }\n                });\n            }\n        };\n\n        const startTimer = () => {\n            const timer = setInterval(() => {\n                if (state.count > 1) {\n                    state.count--;\n                } else {\n                    state.sendCode = true;\n                    clearInterval(timer);\n                }\n            }, 1000);\n        };\n\n        const submit = () => {\n            if (state.phoneNumber == \"\") {\n                Toast(\"请输入手机号\");\n                state.phoneInput.focus();\n                return false;\n            } else if (state.phoneNumber.length !== 11) {\n                Toast(\"请输入11位手机号\");\n                state.phoneInput.focus();\n                return false;\n            } else {\n                // state.hasVerificationCode = true;\n                // startTimer();\n                getPhoneVerificationCode(state.phoneNumber).then((res) => {\n                    // console.log(res.data);\n                    if (res.data.data) {\n                        state.hasVerificationCode = true;\n                        startTimer();\n                    }\n                });\n            }\n        };\n\n        const submitAgain = () => {\n            getPhoneVerificationCode(state.phoneNumber).then((res) => {\n                if (res.data.data) {\n                    startTimer();\n                }\n            });\n            state.sendCode = false;\n            state.count = 10;\n        };\n\n        onMounted(() => {\n            state.phoneInput.focus();\n        });\n\n        return {\n            ...toRefs(state),\n            submit,\n            submitAgain,\n            input,\n        };\n    },\n};\n</script>\n\n<style scoped lang='scss'>\n.phoneLogin {\n    position: fixed;\n    width: 100%;\n    height: 100vh;\n    padding: $padding;\n    padding-top: 20px;\n    background-color: $color-white-background;\n    z-index: 999;\n    .topBar {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        .left {\n            display: flex;\n            align-items: center;\n            .iconfont {\n                margin-top: 2px;\n                margin-right: 14px;\n                font-size: 18px;\n            }\n            .title {\n                font-size: 18px;\n            }\n        }\n        .right {\n            padding: 4px 6px;\n            border: 1px solid rgba($color: rgb(211, 211, 211), $alpha: 0.5);\n            border-radius: 14px;\n            color: #444;\n            font-size: 10px;\n        }\n    }\n    .phoneNumberInput {\n        .title {\n            display: flex;\n            flex-direction: column;\n            margin: 40px 0;\n            .name {\n                margin-bottom: 8px;\n                font-size: 18px;\n            }\n            .desc {\n                color: rgb(155, 155, 155);\n                font-size: 14px;\n            }\n            .countDown {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                color: grey;\n                font-size: 14px;\n                .sendCodeAgain {\n                    color: rgb(0, 153, 255);\n                }\n            }\n        }\n        .inputBox {\n            input {\n                width: 100%;\n                margin-bottom: 34px;\n                padding-bottom: 8px;\n                border: 0;\n                border-bottom: 1px solid rgb(180, 180, 180);\n                font-size: 16px;\n                caret-color: red;\n            }\n            .van-button {\n                height: 40px;\n                background-color: red;\n                border: 0;\n                font-size: 16px;\n            }\n        }\n        .bottom {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-top: 34px;\n            color: grey;\n        }\n    }\n}\n</style>","<template>\n    <div class=\"captchaInputBox\">\n        <div class=\"confirm-warpper\">\n            <input ref=\"input\" v-model=\"code\" @blur=\"lose\" type=\"number\" />\n            <div @click=\"focus\" class=\"box\">\n                <div\n                    v-for=\"(item, index) in loopDiv\"\n                    :key=\"index\"\n                    class=\"item\"\n                    :class=\"{ active: current == index }\"\n                >\n                    {{ code[index] }}\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n \n<script>\nexport default {\n    props: {\n        size: {\n            type: [String, Number],\n            default: 4,\n        },\n    },\n    data() {\n        return {\n            code: \"\",\n            current: 0,\n        };\n    },\n    watch: {\n        code() {\n            this.code = this.code.toString().slice(0, 4);\n            this.current = this.code.length;\n            this.$emit(\"input\", this.code);\n        },\n    },\n    computed: {\n        maxLength() {\n            return typeof this.size == \"number\" ? this.size : Number(this.size);\n        },\n        loopDiv() {\n            return new Array(4);\n        },\n    },\n    methods: {\n        focus() {\n            this.$refs.input.focus();\n            var len = this.code.length;\n            // 如果已经输满，点击则聚焦在最后一个字符\n            if (len == 6) {\n                this.current = this.code.length - 1;\n            } else {\n                this.current = this.code.length;\n            }\n        },\n        //input失焦触发，等于-1防止出现size符合偶然情况，失焦后又聚焦某一div\n        lose() {\n            this.current = -1;\n        },\n    },\n    mounted() {\n        this.focus();\n    },\n};\n</script>\n \n<style scoped lang='scss'>\n@keyframes cursor {\n    0% {\n        opacity: 0;\n    }\n    50% {\n        opacity: 1;\n    }\n    100% {\n        opacity: 0;\n    }\n}\n\n.captchaInputBox {\n    padding: 0 10px;\n    .confirm-warpper {\n        input {\n            position: absolute;\n            transform: scale(0);\n        }\n        .box {\n            display: flex;\n            justify-content: space-between;\n            cursor: text;\n            .item {\n                position: relative;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                width: 50px;\n                height: 50px;\n                margin-right: 16px;\n                border-bottom: 1px solid rgb(218, 218, 218);\n                color: #444;\n                font-size: 24px;\n                &:last-child {\n                    margin-right: 0;\n                }\n            }\n            .item.active {\n                border-bottom: 1px solid #333;\n            }\n            .item.active::before {\n                content: \"\";\n                position: absolute;\n                top: 50%;\n                left: 70%;\n                transform: translate(-50%, -50%);\n                height: 40px;\n                width: 2px;\n                background: #fff;\n                animation: cursor 1s infinite;\n            }\n        }\n    }\n}\n</style>\n","import { render } from \"./CaptchaInputBox.vue?vue&type=template&id=446482a8&scoped=true\"\nimport script from \"./CaptchaInputBox.vue?vue&type=script&lang=js\"\nexport * from \"./CaptchaInputBox.vue?vue&type=script&lang=js\"\n\nimport \"./CaptchaInputBox.vue?vue&type=style&index=0&id=446482a8&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-446482a8\"\n\nexport default script","import { render } from \"./PhoneLogin.vue?vue&type=template&id=489ead3c&scoped=true\"\nimport script from \"./PhoneLogin.vue?vue&type=script&lang=js\"\nexport * from \"./PhoneLogin.vue?vue&type=script&lang=js\"\n\nimport \"./PhoneLogin.vue?vue&type=style&index=0&id=489ead3c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-489ead3c\"\n\nexport default script","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhoneLogin.vue?vue&type=style&index=0&id=489ead3c&scoped=true&lang=scss\"","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","import { request } from \"@/api/request\";\n\n// 调用此接口，传入手机号码，可发送验证码\nexport function getPhoneVerificationCode(phoneNumber) {\n    return request({\n        url: \"/captcha/sent?phone=\" + phoneNumber,\n    });\n}\n\n// 调用此接口 ,传入手机号码和验证码, 可校验验证码是否正确\nexport function verifyPhoneCaptcha(phoneNumber, captcha) {\n    return request({\n        url: `/captcha/verify?phone=${phoneNumber}&captcha=${captcha}`,\n    });\n}\n\n// 调用此接口实现手机号码登录\nexport function loginCellphoneByCaptcha(phoneNumber, captcha) {\n    return request({\n        url: `/login/cellphone?phone=${phoneNumber}&captcha=${captcha}`,\n    });\n}\n\n// 说明 : 调用此接口 , 可退出登录\nexport function logout() {\n    return request({\n        url: `/logout`,\n    });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a number');\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}