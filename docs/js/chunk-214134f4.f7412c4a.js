(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-214134f4"],{"143b":function(e,t,n){"use strict";n("d2c1")},"25f0":function(e,t,n){"use strict";var c=n("6eeb"),o=n("825a"),s=n("577e"),a=n("d039"),i=n("ad6d"),r="toString",u=RegExp.prototype,d=u[r],p=a((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),b=d.name!=r;(p||b)&&c(RegExp.prototype,r,(function(){var e=o(this),t=s(e.source),n=e.flags,c=s(void 0===n&&e instanceof RegExp&&!("flags"in u)?i.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},"45cf":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=Object(c["W"])("data-v-829c0b64");Object(c["D"])("data-v-829c0b64");var s={class:"phoneLogin"},a={class:"topBar"},i={class:"left"},r=Object(c["k"])("span",{class:"title"},"手机号登录",-1),u={key:0,class:"phoneNumberInput"},d={key:0,class:"title"},p=Object(c["k"])("span",{class:"name"},"登录体验更多精彩",-1),b=Object(c["k"])("span",{class:"desc"},"未注册手机号登录后将自动创建账号",-1),l={key:1,class:"title"},f=Object(c["k"])("span",{class:"name"},"请输入验证码",-1),h={class:"countDown"},j={class:"desc"},O={key:0,class:"count"},v={key:2,class:"inputBox"},g=Object(c["j"])(" 下一步 "),m={key:3,class:"codeInputBox"},k={key:1,class:"phonePasswordInput"},w={class:"inputBox"},y=Object(c["k"])("div",{class:"forgetPassword"},[Object(c["k"])("span",{class:"text"},"忘记密码"),Object(c["k"])("span",{class:"iconfont icon-qm"})],-1),I=Object(c["j"])(" 登录 ");Object(c["B"])();var C=o((function(e,t,n,C,P,A){var x=Object(c["I"])("van-button"),N=Object(c["I"])("CaptchaInputBox");return Object(c["A"])(),Object(c["g"])("div",s,[Object(c["k"])("div",a,[Object(c["k"])("div",i,[e.isShowPhonePasswordInput?(Object(c["A"])(),Object(c["g"])("span",{key:0,class:"iconfont icon-70BasicIcons-all-24",onClick:t[1]||(t[1]=function(e){return C.clickLeftJiantou()})})):(Object(c["A"])(),Object(c["g"])("span",{key:1,class:"iconfont icon-cha-copy",onClick:t[2]||(t[2]=function(t){return e.$router.go(-1)})})),r]),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("span",{key:0,class:"right",onClick:t[3]||(t[3]=function(e){return C.showPhonePasswordInput()})},"密码登录")):Object(c["h"])("",!0)]),e.isShowPhonePasswordInput?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",u,[e.hasVerificationCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",d,[p,b])),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("div",l,[f,Object(c["k"])("div",h,[Object(c["k"])("span",j,"已发送至 "+Object(c["M"])(e.phoneNumber),1),e.sendCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("span",O,Object(c["M"])(e.count)+"s",1)),e.sendCode?(Object(c["A"])(),Object(c["g"])("span",{key:1,class:"sendCodeAgain",onClick:t[4]||(t[4]=function(e){return C.submitAgain()})},"重新获取")):Object(c["h"])("",!0)])])):Object(c["h"])("",!0),e.hasVerificationCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",v,[Object(c["T"])(Object(c["k"])("input",{ref:"phoneInput",type:"number",placeholder:"请输入手机号","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.phoneNumber=t}),pattern:"[0-9]*"},null,512),[[c["P"],e.phoneNumber]]),Object(c["k"])(x,{round:"",block:"",type:"primary",onClick:t[6]||(t[6]=function(e){return C.submit()})},{default:o((function(){return[g]})),_:1})])),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("div",m,[Object(c["k"])(N,{onInput:C.input},null,8,["onInput"])])):Object(c["h"])("",!0)])),e.isShowPhonePasswordInput?(Object(c["A"])(),Object(c["g"])("div",k,[Object(c["k"])("div",w,[Object(c["T"])(Object(c["k"])("input",{ref:"passwordInput",type:"password",placeholder:"请输入密码","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.password=t})},null,512),[[c["P"],e.password]]),y,Object(c["k"])(x,{round:"",block:"",disabled:e.disabled,type:"primary",onClick:t[8]||(t[8]=function(e){return C.submitPassword()})},{default:o((function(){return[I]})),_:1},8,["disabled"])])])):Object(c["h"])("",!0)])})),P=n("5530"),A=(n("e7e5"),n("d399")),x=n("1da1"),N=(n("96cf"),n("fb6a"),n("7555")),V=Object(c["W"])("data-v-446482a8");Object(c["D"])("data-v-446482a8");var B={class:"captchaInputBox"},S={class:"confirm-warpper"};Object(c["B"])();var R=V((function(e,t,n,o,s,a){return Object(c["A"])(),Object(c["g"])("div",B,[Object(c["k"])("div",S,[Object(c["T"])(Object(c["k"])("input",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.code=e}),onBlur:t[2]||(t[2]=function(){return a.lose&&a.lose.apply(a,arguments)}),type:"number"},null,544),[[c["P"],s.code]]),Object(c["k"])("div",{onClick:t[3]||(t[3]=function(){return a.focus&&a.focus.apply(a,arguments)}),class:"box"},[(Object(c["A"])(!0),Object(c["g"])(c["a"],null,Object(c["G"])(a.loopDiv,(function(e,t){return Object(c["A"])(),Object(c["g"])("div",{key:t,class:["item",{active:s.current==t}]},Object(c["M"])(s.code[t]),3)})),128))])])])})),_=(n("a9e3"),n("d3b7"),n("25f0"),{props:{size:{type:[String,Number],default:4}},data:function(){return{code:"",current:0}},watch:{code:function(){this.code=this.code.toString().slice(0,4),this.current=this.code.length,this.$emit("input",this.code)}},computed:{maxLength:function(){return"number"==typeof this.size?this.size:Number(this.size)},loopDiv:function(){return new Array(4)}},methods:{focus:function(){this.$refs.input.focus();var e=this.code.length;this.current=6==e?this.code.length-1:this.code.length},lose:function(){this.current=-1}},mounted:function(){this.focus()}}),D=(n("143b"),n("6b0d")),L=n.n(D);const z=L()(_,[["render",R],["__scopeId","data-v-446482a8"]]);var E=z,J=n("6c02"),M=n("5502"),T={name:"PhoneLogin",components:{CaptchaInputBox:E},setup:function(){var e=Object(c["E"])({phoneNumber:"",phoneInput:"",hasVerificationCode:!1,count:60,sendCode:!1,verificationCode:0,isShowPhonePasswordInput:!1,passwordInput:"",password:"",disabled:!0}),t=Object(M["b"])(),n=Object(J["d"])(),o=function(c){c.length>=4&&(c=c.slice(0,4),Object(N["c"])(e.phoneNumber,c).then(function(){var o=Object(x["a"])(regeneratorRuntime.mark((function o(s){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(console.log(s.data),!s.data.data){o.next=6;break}return o.next=4,t.dispatch("user/login",{account:e.phoneNumber,password:c,loginWay:"phoneCaptcha"});case 4:a=o.sent,200==a.data.code&&n.push("/me");case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(){})))},s=function(){var t=setInterval((function(){e.count>1?e.count--:(e.sendCode=!0,clearInterval(t))}),1e3)},a=function(){return e.hasVerificationCode=!0,s(),""==e.phoneNumber?(Object(A["a"])("请输入手机号"),e.phoneInput.focus(),!1):11!==e.phoneNumber.length?(Object(A["a"])("请输入11位手机号"),e.phoneInput.focus(),!1):void 0},i=function(){getPhoneVerificationCode(e.phoneNumber).then((function(e){e.data.data?s():(Object(A["a"])("每个手机号码一天只能获取5次验证码！"),setInterval((function(){location.reload()}),3e3))})),e.sendCode=!1,e.count=60},r=function(){var c=Object(x["a"])(regeneratorRuntime.mark((function c(){var o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,t.dispatch("user/login",{account:e.phoneNumber,password:e.password,loginWay:"phonePassword"});case 2:o=c.sent,200==o.data.code&&n.push("/me");case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),u=function(){e.isShowPhonePasswordInput=!0,e.hasVerificationCode=!1,setTimeout((function(){e.passwordInput.focus()}),100)},d=function(){e.isShowPhonePasswordInput=!1,e.hasVerificationCode=!0};return Object(c["R"])((function(){return e.password}),(function(t){e.disabled=""==t})),Object(c["x"])((function(){e.phoneInput.focus()})),Object(P["a"])(Object(P["a"])({},Object(c["N"])(e)),{},{submit:a,submitAgain:i,input:o,showPhonePasswordInput:u,clickLeftJiantou:d,submitPassword:r})}};n("b259");const W=L()(T,[["render",C],["__scopeId","data-v-829c0b64"]]);t["default"]=W},"48ce":function(e,t,n){},ad6d:function(e,t,n){"use strict";var c=n("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b259:function(e,t,n){"use strict";n("48ce")},d2c1:function(e,t,n){},fb6a:function(e,t,n){"use strict";var c=n("23e7"),o=n("861d"),s=n("e8b5"),a=n("23cb"),i=n("50c4"),r=n("fc6a"),u=n("8418"),d=n("b622"),p=n("1dde"),b=p("slice"),l=d("species"),f=[].slice,h=Math.max;c({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var n,c,d,p=r(this),b=i(p.length),j=a(e,b),O=a(void 0===t?b:t,b);if(s(p)&&(n=p.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?o(n)&&(n=n[l],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(p,j,O);for(c=new(void 0===n?Array:n)(h(O-j,0)),d=0;j<O;j++,d++)j in p&&u(c,d,p[j]);return c.length=d,c}})}}]);
//# sourceMappingURL=chunk-214134f4.f7412c4a.js.map