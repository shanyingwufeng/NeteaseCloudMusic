{"version":3,"sources":["webpack:///./src/components/PlayPage.vue?70de","webpack:///./src/assets/needle-ab.png","webpack:///./src/assets/disc.png","webpack:///./src/components/PlayPage.vue","webpack:///./src/components/PlayPage.vue?b5e3"],"names":["module","exports","class","src","playSong","imgUrl","$router","go","name","author","playState","musicPause","musicPlay","setup","store","route","id","query","state","play","isPaused","commit","then","res","console","log","data","songs","ar","al","picUrl","render","__scopeId"],"mappings":"gHAAA,W,uBCAAA,EAAOC,QAAU,IAA0B,8B,uBCA3CD,EAAOC,QAAU,IAA0B,yB,qNCElCC,MAAM,Y,GACFA,MAAM,M,GACNA,MAAM,O,GAEFA,MAAM,Y,GACDA,MAAM,Y,GACNA,MAAM,c,EAEhB,eAA4C,QAAtCA,MAAM,0BAAwB,S,GAEnCA,MAAM,U,EAQP,eAA0C,OAArCC,IAAA,IAAwBD,MAAM,M,YAWlCA,MAAM,U,qXAQFA,MAAM,e,EACP,eAA+C,QAAzCA,MAAM,6BAA2B,S,EACvC,eAA6C,QAAvCA,MAAM,2BAAyB,S,EAerC,eAA2C,QAArCA,MAAM,yBAAuB,S,EACnC,eAAiD,QAA3CA,MAAM,+BAA6B,S,qGAvDrD,eA0DM,MA1DN,EA0DM,C,eAzDF,eAA2C,MAA3C,EAA2C,W,GAAnB,EAAAE,SAASC,UACjC,eAOM,MAPN,EAOM,CANF,eAAoE,QAA9DH,MAAM,yBAA0B,QAAK,+BAAE,EAAAI,QAAQC,IAAE,OACvD,eAGM,MAHN,EAGM,CAFF,eAAiD,OAAjD,EAAiD,eAAvB,EAAAH,SAASI,MAAI,GACvC,eAAqD,OAArD,EAAqD,eAAzB,EAAAJ,SAASK,QAAM,KAE/C,IAEJ,eAkBM,MAlBN,EAkBM,CAhBF,eAIE,OAHEN,IAAA,IACAD,MAAK,CAAC,eAAc,SACD,EAAAQ,a,QAGvB,E,eAEA,eAOE,OALER,MAAK,CAAC,UAAS,C,aAC6B,O,OAAkC,e,YAFtE,EAAAE,SAASC,YAQzB,eA4BM,MA5BN,EA4BM,CA3BF,EAOA,eAmBM,MAnBN,EAmBM,CAlBF,EACA,EAEW,EAAAK,W,iBAIX,eAQQ,Q,MANJR,MAAM,2JAKL,QAAK,+BAAE,EAAAS,mB,iBAZZ,eAIQ,Q,MAFJT,MAAM,oCACL,QAAK,+BAAE,EAAAU,iBAWZ,EACA,W,wEAYD,GACXJ,KAAM,WACNK,MAFW,WAGP,IAAMC,EAAQ,iBACRC,EAAQ,iBACRC,EAAKD,EAAME,MAAMD,GAEjBE,EAAQ,eAAS,CACnBC,MAAM,EACNC,UAAU,IAGRR,EAAY,WACdM,EAAMC,MAAO,EACbD,EAAME,UAAW,EACjBN,EAAMO,OAAO,qBAAqB,IAGhCV,EAAa,WACfO,EAAME,UAAW,EACjBN,EAAMO,OAAO,qBAAqB,IAwBtC,OArBA,eAAS,wCAAC,kGACFL,EADE,uBAEFF,EAAMO,OAAO,qBAAqB,GAFhC,SAGI,eAAcL,GAAIM,MAAK,SAACC,GAC1BC,QAAQC,IAAIF,EAAIG,MAChB,IAAMtB,EAAW,CACbY,GAAI,EACJR,KAAM,GACNC,OAAQ,GACRJ,OAAQ,IAEZD,EAASY,GAAKO,EAAIG,KAAKC,MAAM,GAAGX,GAChCZ,EAASI,KAAOe,EAAIG,KAAKC,MAAM,GAAGnB,KAClCJ,EAASK,OAASc,EAAIG,KAAKC,MAAM,GAAGC,GAAG,GAAGpB,KAC1CJ,EAASC,OAASkB,EAAIG,KAAKC,MAAM,GAAGE,GAAGC,OACvChB,EAAMO,OAAO,mBAAoBjB,MAfnC,OAiBFU,EAAMO,OAAO,qBAAqB,GAjBhC,4CAqBV,iCACO,eAAOH,IADd,IAEIP,aACAC,YACAF,UAAW,gBAAS,kBAAMI,EAAMI,MAAMC,KAAKT,aAC3CN,SAAU,gBAAS,kBAAMU,EAAMI,MAAMC,KAAKf,gB,UCjHtD,EAAO2B,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-4c38b3a2.2ede6b9d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PlayPage.vue?vue&type=style&index=0&id=41a9c253&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/needle-ab.4b81da04.png\";","module.exports = __webpack_public_path__ + \"img/disc.2aa9bb90.png\";","<!-- 播放页面 -->\n<template>\n    <div class=\"playPage\">\n        <img class=\"bg\" v-lazy=\"playSong.imgUrl\" />\n        <div class=\"top\">\n            <span class=\"iconfont icon-jiantou9\" @click=\"$router.go(-1)\"></span>\n            <div class=\"songInfo\">\n                <span class=\"songName\">{{ playSong.name }}</span>\n                <span class=\"songAuthor\">{{ playSong.author }}</span>\n            </div>\n            <span class=\"iconfont icon-fenxiang\"></span>\n        </div>\n        <div class=\"center\">\n            <!-- 控制杆子 -->\n            <img\n                src=\"@/assets/needle-ab.png\"\n                class=\"controlLever\"\n                :class=\"{ active: !playState }\"\n            />\n            <!-- 唱碟（歌曲图片外部黑色圈圈） -->\n            <img src=\"@/assets/disc.png\" class=\"cd\" />\n            <!-- 歌曲图片 -->\n            <img\n                v-lazy=\"playSong.imgUrl\"\n                class=\"songImg\"\n                :class=\"{\n                    songImgRoute: play,\n                    pause: !playState,\n                }\"\n            />\n        </div>\n        <div class=\"bottom\">\n            <div class=\"btnList\">\n                <span class=\"iconfont icon-shoucang\"></span>\n                <span class=\"iconfont icon-iconset0425\"></span>\n                <span class=\"iconfont icon-changpian\"></span>\n                <span class=\"iconfont icon-58pinglun\"></span>\n                <span class=\"iconfont icon-gengduo\"></span>\n            </div>\n            <div class=\"playControl\">\n                <span class=\"iconfont icon-suijibofang\"></span>\n                <span class=\"iconfont icon-shangyiqu\"></span>\n                <span\n                    v-if=\"!playState\"\n                    class=\"iconfont icon-bofang7 playandstop\"\n                    @click=\"musicPlay()\"\n                ></span>\n                <span\n                    v-else\n                    class=\"\n                        iconfont\n                        icon-pcduanbizhixiazaicishutubiao\n                        playandstop\n                    \"\n                    @click=\"musicPause()\"\n                ></span>\n                <span class=\"iconfont icon-xiayiqu\"></span>\n                <span class=\"iconfont icon-bofangliebiao\"></span>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { computed, onMounted, reactive, toRefs } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\nimport { getSongDetail } from \"@/api/index.js\";\n\nexport default {\n    name: \"PlayPage\",\n    setup() {\n        const store = useStore();\n        const route = useRoute();\n        const id = route.query.id;\n\n        const state = reactive({\n            play: true,\n            isPaused: false,\n        });\n\n        const musicPlay = () => {\n            state.play = true;\n            state.isPaused = false;\n            store.commit(\"play/setPlayState\", true);\n        };\n\n        const musicPause = () => {\n            state.isPaused = true;\n            store.commit(\"play/setPlayState\", false);\n        };\n\n        onMounted(async () => {\n            if (id) {\n                store.commit(\"play/setPlayState\", false);\n                await getSongDetail(id).then((res) => {\n                    console.log(res.data);\n                    const playSong = {\n                        id: 0,\n                        name: \"\",\n                        author: \"\",\n                        imgUrl: \"\",\n                    };\n                    playSong.id = res.data.songs[0].id;\n                    playSong.name = res.data.songs[0].name;\n                    playSong.author = res.data.songs[0].ar[0].name;\n                    playSong.imgUrl = res.data.songs[0].al.picUrl;\n                    store.commit(\"play/setPlaySong\", playSong);\n                });\n                store.commit(\"play/setPlayState\", true);\n            }\n        });\n\n        return {\n            ...toRefs(state),\n            musicPause,\n            musicPlay,\n            playState: computed(() => store.state.play.playState),\n            playSong: computed(() => store.state.play.playSong),\n        };\n    },\n};\n</script>\n\n<style scoped lang='scss'>\n@keyframes rotation {\n    from {\n        transform: rotateZ(0deg);\n    }\n    to {\n        transform: rotateZ(360deg);\n    }\n}\n\n.playPage {\n    overflow: hidden;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100vh;\n    background-color: #555;\n    z-index: 100;\n    .bg {\n        position: absolute;\n        height: 100%;\n        background-size: cover;\n        background-position: center;\n        background-repeat: no-repeat;\n        transform: scale(5);\n        filter: blur(50px) contrast(0.8) brightness(0.8);\n        z-index: -1;\n    }\n    .top {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: $padding 20px;\n        color: #fff;\n        .songInfo {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            width: 80%;\n            .songName {\n                @include ellipsis1();\n                padding: 0 20px;\n                font-size: 14px;\n            }\n            .songAuthor {\n                @include ellipsis1();\n                color: rgb(190, 190, 190);\n                font-size: 12px;\n            }\n        }\n        .iconfont {\n            font-size: 20px;\n        }\n    }\n    .center {\n        position: absolute;\n        top: 64px;\n        left: 0;\n        width: 100%;\n        height: 440px;\n        text-align: center;\n        .controlLever {\n            position: absolute;\n            top: 0;\n            left: 46%;\n            width: 90px;\n            transform-origin: 8px 0;\n            transition: all 0.6s;\n            z-index: 1;\n        }\n        .controlLever.active {\n            transform: rotate(-26deg);\n        }\n        .cd {\n            position: absolute;\n            top: 84px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 280px;\n        }\n        .songImg {\n            width: 176px;\n            margin-top: 136px;\n            border-radius: 50%;\n        }\n        .songImgRoute {\n            animation: rotation 40s linear infinite;\n        }\n        .pause {\n            animation-play-state: paused;\n        }\n    }\n    .bottom {\n        position: absolute;\n        bottom: 30px;\n        width: 100%;\n        padding: 0 30px;\n        .btnList {\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            margin-bottom: 30px;\n            .iconfont {\n                color: rgb(233, 233, 233);\n                font-size: 20px;\n            }\n        }\n        .playControl {\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            .iconfont {\n                color: #fff;\n                font-size: 22px;\n                opacity: 0.8;\n            }\n            .playandstop {\n                font-size: 40px;\n            }\n        }\n    }\n}\n</style>","import { render } from \"./PlayPage.vue?vue&type=template&id=41a9c253&scoped=true\"\nimport script from \"./PlayPage.vue?vue&type=script&lang=js\"\nexport * from \"./PlayPage.vue?vue&type=script&lang=js\"\n\nimport \"./PlayPage.vue?vue&type=style&index=0&id=41a9c253&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-41a9c253\"\n\nexport default script"],"sourceRoot":""}