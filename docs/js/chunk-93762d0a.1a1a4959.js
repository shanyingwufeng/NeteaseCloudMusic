(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93762d0a"],{"25f0":function(e,t,n){"use strict";var c=n("6eeb"),o=n("825a"),a=n("577e"),s=n("d039"),i=n("ad6d"),r="toString",u=RegExp.prototype,d=u[r],b=s((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),l=d.name!=r;(b||l)&&c(RegExp.prototype,r,(function(){var e=o(this),t=a(e.source),n=e.flags,c=a(void 0===n&&e instanceof RegExp&&!("flags"in u)?i.call(e):n);return"/"+t+"/"+c}),{unsafe:!0})},27499:function(e,t,n){"use strict";n("34b8")},"2e91":function(e,t,n){"use strict";n("6b86")},"34b8":function(e,t,n){},"45cf":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=Object(c["W"])("data-v-74b2c16b");Object(c["D"])("data-v-74b2c16b");var a={class:"phoneLogin"},s={class:"topBar"},i={class:"left"},r=Object(c["k"])("span",{class:"title"},"手机号登录",-1),u={key:0,class:"phoneNumberInput"},d={key:0,class:"title"},b=Object(c["k"])("span",{class:"name"},"登录体验更多精彩",-1),l=Object(c["k"])("span",{class:"desc"},"未注册手机号登录后将自动创建账号",-1),p={key:1,class:"title"},f=Object(c["k"])("span",{class:"name"},"请输入验证码",-1),h={class:"countDown"},j={class:"desc"},O={key:0,class:"count"},v={key:2,class:"inputBox"},g=Object(c["j"])(" 下一步 "),m={key:3,class:"codeInputBox"},k={key:1,class:"phonePasswordInput"},w={class:"inputBox"},y=Object(c["k"])("div",{class:"forgetPassword"},[Object(c["k"])("span",{class:"text"},"忘记密码"),Object(c["k"])("span",{class:"iconfont icon-qm"})],-1),I=Object(c["j"])(" 登录 ");Object(c["B"])();var P=o((function(e,t,n,P,C,x){var A=Object(c["I"])("van-button"),N=Object(c["I"])("CaptchaInputBox");return Object(c["A"])(),Object(c["g"])("div",a,[Object(c["k"])("div",s,[Object(c["k"])("div",i,[e.isShowPhonePasswordInput?(Object(c["A"])(),Object(c["g"])("span",{key:0,class:"iconfont icon-70BasicIcons-all-24",onClick:t[1]||(t[1]=function(e){return P.clickLeftJiantou()})})):(Object(c["A"])(),Object(c["g"])("span",{key:1,class:"iconfont icon-cha-copy",onClick:t[2]||(t[2]=function(t){return e.$router.go(-1)})})),r]),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("span",{key:0,class:"right",onClick:t[3]||(t[3]=function(e){return P.showPhonePasswordInput()})},"密码登录")):Object(c["h"])("",!0)]),e.isShowPhonePasswordInput?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",u,[e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("div",p,[f,Object(c["k"])("div",h,[Object(c["k"])("span",j,"已发送至 "+Object(c["M"])(e.phoneNumber),1),e.sendCode?(Object(c["A"])(),Object(c["g"])("span",{key:1,class:"sendCodeAgain",onClick:t[4]||(t[4]=function(e){return P.submitAgain()})},"重新获取")):(Object(c["A"])(),Object(c["g"])("span",O,Object(c["M"])(e.count)+"s",1))])])):(Object(c["A"])(),Object(c["g"])("div",d,[b,l])),e.hasVerificationCode?Object(c["h"])("",!0):(Object(c["A"])(),Object(c["g"])("div",v,[Object(c["T"])(Object(c["k"])("input",{ref:"phoneInput",type:"number",placeholder:"请输入手机号","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.phoneNumber=t}),pattern:"[0-9]*",onInput:t[6]||(t[6]=function(e){return P.inputPhoneNumber()})},null,544),[[c["P"],e.phoneNumber]]),Object(c["k"])(A,{round:"",block:"",type:"primary",onClick:t[7]||(t[7]=function(e){return P.submit()}),disabled:e.nextBtnDisabled},{default:o((function(){return[g]})),_:1},8,["disabled"])])),e.hasVerificationCode?(Object(c["A"])(),Object(c["g"])("div",m,[Object(c["k"])(N,{onInput:P.input},null,8,["onInput"])])):Object(c["h"])("",!0)])),e.isShowPhonePasswordInput?(Object(c["A"])(),Object(c["g"])("div",k,[Object(c["k"])("div",w,[Object(c["T"])(Object(c["k"])("input",{ref:"passwordInput",type:"password",placeholder:"请输入密码","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.password=t})},null,512),[[c["P"],e.password]]),y,Object(c["k"])(A,{round:"",block:"",disabled:e.disabled,type:"primary",onClick:t[9]||(t[9]=function(e){return P.submitPassword()})},{default:o((function(){return[I]})),_:1},8,["disabled"])])])):Object(c["h"])("",!0)])})),C=n("5530"),x=n("1da1"),A=(n("e7e5"),n("d399")),N=(n("96cf"),n("fb6a"),n("7555")),B=Object(c["W"])("data-v-160e6bfa");Object(c["D"])("data-v-160e6bfa");var V={class:"captchaInputBox"},D={class:"confirm-warpper"};Object(c["B"])();var S=B((function(e,t,n,o,a,s){return Object(c["A"])(),Object(c["g"])("div",V,[Object(c["k"])("div",D,[Object(c["T"])(Object(c["k"])("input",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.code=e}),onBlur:t[2]||(t[2]=function(){return s.lose&&s.lose.apply(s,arguments)}),type:"number"},null,544),[[c["P"],a.code]]),Object(c["k"])("div",{onClick:t[3]||(t[3]=function(){return s.focus&&s.focus.apply(s,arguments)}),class:"box"},[(Object(c["A"])(!0),Object(c["g"])(c["a"],null,Object(c["G"])(s.loopDiv,(function(e,t){return Object(c["A"])(),Object(c["g"])("div",{key:t,class:["item",{active:a.current==t}]},Object(c["M"])(a.code[t]),3)})),128))])])])})),R=(n("a9e3"),n("d3b7"),n("25f0"),{props:{size:{type:[String,Number],default:4}},data:function(){return{code:"",current:0}},watch:{code:function(){this.code=this.code.toString().slice(0,4),this.current=this.code.length,this.$emit("input",this.code)}},computed:{maxLength:function(){return"number"==typeof this.size?this.size:Number(this.size)},loopDiv:function(){return new Array(4)}},methods:{focus:function(){var e=this.$refs.input;e.focus();var t=this.code.length;this.current=6==t?this.code.length-1:this.code.length},lose:function(){this.current=-1}},mounted:function(){this.focus()}}),_=(n("2e91"),n("d959")),L=n.n(_);const T=L()(R,[["render",S],["__scopeId","data-v-160e6bfa"]]);var z=T,E=n("6c02"),J=n("5502"),M={name:"PhoneLogin",components:{CaptchaInputBox:z},setup:function(){var e=Object(c["E"])({phoneNumber:"",password:"",phoneInput:null,hasVerificationCode:!1,count:60,sendCode:!1,verificationCode:0,isShowPhonePasswordInput:!1,passwordInput:null,disabled:!0,nextBtnDisabled:!0}),t=Object(J["b"])(),n=Object(E["d"])(),o=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/;Object(c["R"])((function(){return e.password}),(function(t){e.disabled=""===t})),Object(c["x"])((function(){e.phoneInput.focus()}));var a=function(){11===e.phoneNumber.length?o.test(e.phoneNumber)?e.nextBtnDisabled=!1:Object(A["a"])("请输入正确的手机号码哦"):e.phoneNumber.length>=11?(e.nextBtnDisabled=!0,Object(A["a"])("请输入11位手机号哦")):e.nextBtnDisabled=!0},s=function(){console.log("获取手机验证码..."),Object(N["a"])(e.phoneNumber).then((function(t){t.data.data?(e.hasVerificationCode=!0,r()):(Object(A["a"])("一个手机号一天只能获取5次验证码哦"),setTimeout((function(){location.reload()}),3e3))})).catch((function(e){console.log(e)}))},i=function(c){c.length>=4&&(c=c.slice(0,4),Object(N["d"])(e.phoneNumber,c).then(function(){var o=Object(x["a"])(regeneratorRuntime.mark((function o(a){var s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(console.log(a.data),!a.data.data){o.next=6;break}return o.next=4,t.dispatch("user/login",{account:e.phoneNumber,password:c,loginWay:"phoneCaptcha"});case 4:s=o.sent,200===s.data.code&&n.push("/me");case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(){Object(A["a"])("登录失败")})))},r=function(){var t=setInterval((function(){e.count>1?e.count--:(e.sendCode=!0,clearInterval(t))}),1e3)},u=function(){getPhoneVerificationCode(e.phoneNumber).then((function(e){e.data.data?r():(Object(A["a"])("每个手机号码一天只能获取5次验证码！"),setInterval((function(){location.reload()}),3e3))})),e.sendCode=!1,e.count=60},d=function(){var c=Object(x["a"])(regeneratorRuntime.mark((function c(){var o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,t.dispatch("user/login",{account:e.phoneNumber,password:e.password,loginWay:"phonePassword"});case 2:o=c.sent,200==o.data.code&&n.push("/me");case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),b=function(){e.isShowPhonePasswordInput=!0,e.hasVerificationCode=!1,setTimeout((function(){e.passwordInput.focus()}),100)},l=function(){e.isShowPhonePasswordInput=!1,e.hasVerificationCode=!0};return Object(C["a"])(Object(C["a"])({},Object(c["N"])(e)),{},{inputPhoneNumber:a,submit:s,submitAgain:u,input:i,showPhonePasswordInput:b,clickLeftJiantou:l,submitPassword:d})}};n("27499");const W=L()(M,[["render",P],["__scopeId","data-v-74b2c16b"]]);t["default"]=W},"6b86":function(e,t,n){},ad6d:function(e,t,n){"use strict";var c=n("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},fb6a:function(e,t,n){"use strict";var c=n("23e7"),o=n("861d"),a=n("e8b5"),s=n("23cb"),i=n("50c4"),r=n("fc6a"),u=n("8418"),d=n("b622"),b=n("1dde"),l=b("slice"),p=d("species"),f=[].slice,h=Math.max;c({target:"Array",proto:!0,forced:!l},{slice:function(e,t){var n,c,d,b=r(this),l=i(b.length),j=s(e,l),O=s(void 0===t?l:t,l);if(a(b)&&(n=b.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?o(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return f.call(b,j,O);for(c=new(void 0===n?Array:n)(h(O-j,0)),d=0;j<O;j++,d++)j in b&&u(c,d,b[j]);return c.length=d,c}})}}]);
//# sourceMappingURL=chunk-93762d0a.1a1a4959.js.map